# bitbucket

Создание веб-приложения для регистрации и авторизации на php (не framework), html, css, js/jquery.
* можно использовать пакетный менеджер (composer) и php шаблонизаторы (twig, blade), но без самих фреймворков.

Форма регистрации
1. Поля:
   ● login (unique) [валидация : минимум 6 символов ];
   ● password [валидация : минимум 6 символов , обязательно должны
   состоять из цифр и букв];
   ● confirm_password [должен совпадать с password];
   ● email (unique) [валидация : email];
   ● name [валидация : минимум 2 символа , только буквы].
2. Функционал:
   ● после заполнения формы, уходит запрос на создание пользователя;
   ● поля проверяются на валидность, уникальные поля проверяются на
   уникальность в БД, password и confirm_password сравниваются (должны
   быть одинаковыми);
   ● если что-то не так - выдается ошибка. Возвращаем текст с ошибками.
   Подставляем их рядом с полями, в которых допущена ошибка;
   ● в случае успеха шифруем пароль ("соль"+md5 или "соль"+sha1) и
   заносим данные в нашу базу.

Форма авторизации
1. Поля:
   ● login;
   ● password. 2. Функционал.
   После заполнения формы уходит запрос:
   ● проверяется наличие пользователя в бд;
   ● сверяется пароль.

В случае ошибки, возвращаем текст с ошибками. Подставляем их рядом с полями, в которых допущена ошибка.
В случае успеха происходит процесс авторизации (создание необходимых связей cookies + session ).
В случае если пользователь авторизован, на всём сайте мы должны увидеть сообщение 'Hello [имя пользователя]' и кнопку "Выйти", формы в таком случае не отображаем.
Внешний вид значения не имеет.

Основные требования
● Приложение обязательно должно быть написано используя ООП концепцию. * Должны быть выделены отдельные сущности, функционалы и для них
описаны классы.
● Вместо базы данных используем файл JSON. Другие БД/технологии не
интересны.
* https://ru.wikipedia.org/wiki/JSON
* https://www.php.net/manual/ru/ref.json.php
  ● Файл базы не должен быть доступен по прямому урл
* при использовании веб-сервера apache
* при использовании веб-сервера nginx
  ● Доступ к файлу базы должен осуществляться только на стороне php.
* имеется в виду, что при выполнении предыдущего пункта, к файлу нельзя
  будет обращаться, например, через ajax запрос.
  ● Для работы с БД должен быть описан класс реализующий CRUD
* CRUD - это акроним, описывающий функционал Create / Read / Update / Delete. Т.е. в этом пункте, мы просим создать инструмент на ООП для работы с нашей базой.
  ● Пароль не должен хранится в открытом виде.
  ● Связь авторизации - cookies + session.
* когда происходит авторизация, мы должны запомнить нашего пользователя, чтобы при переходе на следующие страницы, мы смогли его идентифицировать и показать, что он авторизован.
  ● Формы должны отправляться используя технологию ajax, ответ в формате json. * https://learn.javascript.ru/fetch
  ● Файлы обработки ajax-запросов не должны быть доступны из браузера, если это не ajax-запрос.
* Простая проверка, если к нам пришёл не ajax-запрос, то работу не выполняем.
  ● Если js отключен, то форма отправиться не может.
  ● Все поля форм - обязательные.
  ● Все формы реализуются через <form>.
* Результаты залить на github/bitbucket. Сделать репозиторий публичным. Ссылку прислать по почте.
